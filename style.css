/* ==== Professional Monitoring Theme ==== */
:root{
  /* Base */
  --bg:#0a0f1a;          /* canvas */
  --surface:#0f1626;     /* card/nav */
  --surface-2:#111a2f;   /* chart area background */
  --border:#1b2944;      /* hairline */
  --shadow:0 8px 24px rgba(0,0,0,.35);

  /* Typography */
  --text:#e7edf7;
  --muted:#98a7bf;

  /* Accents */
  --primary:#4CC9F0;     /* cyan */
  --secondary:#A78BFA;   /* purple */
  --success:#22c55e;     /* green (non-explicit) */
  --danger:#ef4444;      /* red (explicit) */
  --warn:#f59e0b;        /* yellow for outliers */

  /* Components */
  --input-bg:#ffffffF0;
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font:15.5px/1.6 Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, Helvetica, Arial;
}

/* Loading */
#loading{position:fixed;inset:0;display:grid;place-items:center;gap:.6rem;background:rgba(7,10,16,.68);backdrop-filter:blur(6px);z-index:50;color:var(--muted)}
.spinner{width:28px;height:28px;border:3px solid #203247;border-top-color:var(--primary);border-radius:50%;animation:sp 1s linear infinite}
@keyframes sp{to{transform:rotate(360deg)}}

/* NAV â€“ centered brand (grid) */
.nav{
  position:sticky;top:0;z-index:10;
  display:grid;grid-template-columns:1fr auto 1fr;align-items:center;
  gap:1rem;padding:.9rem 1.2rem;border-bottom:1px solid var(--border)
}
.surface{background:var(--surface);box-shadow:var(--shadow)}
.nav-left{justify-self:start}
.nav-center{justify-self:center;text-align:center}
.nav-right{justify-self:end}
.brand{
  display:block;font-weight:900;letter-spacing:.4px;
  font-size: clamp(1.8rem, 3.2vw, 2.6rem);line-height:1.1
}
.subtitle{
  display:block;margin-top:.25rem;color:var(--muted);font-weight:500;font-size:.95rem
}

/* HERO */
.hero{border-top:1px solid transparent}
.hero-inner{max-width:1200px;margin:0 auto;padding:1.2rem 1rem}

/* FILTERS */
.filters{display:flex;gap:1rem;flex-wrap:wrap}
.field{display:flex;flex-direction:column;gap:.35rem;min-width:240px}
.field.grow{flex:1}
.field label{font-size:.82rem;color:#ffffff;font-weight:700}
.field input,.field select{
  background:var(--input-bg);color:#0a0f1a;border:1px solid rgba(0,0,0,.12);
  padding:.62rem .78rem;border-radius:10px;outline:none;box-shadow:0 2px 8px rgba(0,0,0,.12)
}
.field input:focus,.field select:focus{border-color:var(--primary);box-shadow:0 0 0 4px rgba(76,201,240,.22)}
.field input::placeholder{color:rgba(0,0,0,.55)}
.hint{color:#d2d9e6b0;font-size:.78rem}

.combo{position:relative;display:flex;align-items:center}
.combo input{flex:1}
.icon-btn{
  position:absolute;right:6px;top:50%;transform:translateY(-50%);
  border:0;background:#e9eef7;color:#111;width:26px;height:26px;border-radius:8px;
  font-weight:700;cursor:pointer;line-height:1;box-shadow:0 2px 6px rgba(0,0,0,.15)
}
.icon-btn:hover{filter:brightness(1.05)}

/* KPI */
.kpis{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem;margin-top:1rem}
.kpi{
  background:linear-gradient(180deg, rgba(76,201,240,.16), rgba(167,139,250,.12));
  border:1px solid var(--border);border-radius:14px;padding:1rem 1.1rem;color:#fff;
  box-shadow:var(--shadow)
}
.kpi .big{font-size:1.7rem;font-weight:900}
.kpi .lbl{color:#ccd6e6;opacity:.95;font-size:.92rem}

/* GRID & CARDS */
main{max-width:1200px;margin:0 auto;padding:1.1rem 1rem 2rem}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:1.1rem}
.card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:14px;padding:1rem;color:#fff;box-shadow:var(--shadow)
}
.card-head{display:flex;align-items:center;gap:.6rem;margin-bottom:.4rem}
.card-head h2{font-size:1.02rem;margin:0;font-weight:800}
.card-head .right{margin-left:auto;display:flex;gap:.45rem;align-items:center}
.tiny{font-size:.75rem;color:var(--muted)}
.center{display:grid;place-items:center}
.mini-help{color:var(--muted);font-size:.82rem;margin-top:.35rem}

/* Chart areas */
#barChart,#donutChart,#boxPlot,#scatter3D,#corr3D{
  width:100%;height:430px;background:var(--surface-2);
  border:1px solid var(--border);border-radius:12px;padding:.6rem
}
svg text{fill:var(--text)}
footer{color:var(--muted);padding:1.2rem 1rem 2rem;text-align:center}

/* Scroll for bar */
#barChart{overflow:auto}
#barChart::-webkit-scrollbar{width:10px}
#barChart::-webkit-scrollbar-thumb{background:#20304a;border-radius:8px}

/* SVG interactions (subtle) */
svg rect,svg path,svg line{transition:all .2s ease-in-out;filter:saturate(1.08)}
svg rect:hover,svg path:hover{filter:brightness(1.18) saturate(1.25) drop-shadow(0 0 6px rgba(255,255,255,.16))}

/* Boxplot relief */
#boxPlot svg rect{filter:brightness(1.08) saturate(1.18);}

/* Axis helper for D3 'axis' classes */
.axis text{fill:var(--text)}

/* Buttons */
.btn{background:var(--primary);border:0;color:#06101a;padding:.55rem .8rem;border-radius:10px;cursor:pointer;font-weight:700;box-shadow:0 2px 10px rgba(76,201,240,.28)}
.btn.ghost{background:transparent;color:#fff;border:1px solid var(--border)}
.btn.tiny{padding:.35rem .6rem;font-size:.8rem}

/* Tooltip (injected from JS) */
